<?xml version="1.0" encoding="iso-8859-1"?>
<ui:composition xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:b="http://mogwai.sourceforge.net/layout"
    xmlns:a4j="http://richfaces.org/a4j"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:rich="http://richfaces.org/rich" template="/template/powerstaff.xhtml">
	<ui:define name="mainmenu">
		<ui:include src="/include/mainmenu.xhtml"/>
	</ui:define>
	<ui:define name="contextmenu">
		<ui:include src="/include/project/projectmenu1.xhtml"/>
	</ui:define>
	<ui:define name="content">
		<b:title title="Projekt - Stammdaten"/>	
		<f:subview binding="#{projectBackingBean.data.viewRoot}">
			<b:gridBagLayout id="x" rows="p,10" cols="100,p">
				<b:cell y="1" x="1">
					<h:outputText styleClass="title" value="Projekt"/>
				</b:cell>
				
				<b:cell y="1" x="2">
					<a4j:status>				
						<f:facet name="start">
							<b:image source="images/rotate2.gif" width="20" height="20"/>
						</f:facet>
					</a4j:status>
				</b:cell>
			</b:gridBagLayout>

			<b:gridBagLayout cols="400,10,400" rows="30,10,1,p" id="menu">
				<b:cell x="1" y="1" width="3">
					<b:titledBox label="Menu">
						<b:gridBagLayout cols="20,20,20,20,20,20,20,20,20,20,20,right:*"
							rows="20,2,20">
							<b:cell x="1" y="1">
								<b:commandLink title="Erster Datensatz" action="#{projectBackingBean.commandFirst}">
									<b:image source="/images/first.gif" />
									<a4j:support event="onclick"
										reRender="#{projectBackingBean.data.changedComponents}" />
								</b:commandLink>
							</b:cell>
							<b:cell x="2" y="1">
								<b:commandLink title="Vorheriger Datensatz" action="#{projectBackingBean.commandPrior}">
									<b:image source="/images/prior.gif" />
									<a4j:support event="onclick"
										reRender="#{projectBackingBean.data.changedComponents}" />
								</b:commandLink>
							</b:cell>
							<b:cell x="3" y="1">
								<b:commandLink title="Nächster Datensatz" action="#{projectBackingBean.commandNext}">
									<b:image source="/images/next.gif" />
									<a4j:support event="onclick"
										reRender="#{projectBackingBean.data.changedComponents}" />
								</b:commandLink>
							</b:cell>
							<b:cell x="4" y="1">
								<b:commandLink title="Letzter Datensatz" action="#{projectBackingBean.commandLast}">
									<b:image source="/images/last.gif" />
									<a4j:support event="onclick"
										reRender="#{projectBackingBean.data.changedComponents}" />
								</b:commandLink>
							</b:cell>
							<b:cell x="6" y="1">
								<b:commandLink title="Neuer Datensatz" action="#{projectBackingBean.commandNew}">
									<b:image source="/images/new.gif" />
									<a4j:support event="onclick"
										reRender="#{projectBackingBean.data.changedComponents}" />
								</b:commandLink>
							</b:cell>
							<b:cell x="7" y="1">
								<b:commandLink title="Speichern" action="#{projectBackingBean.commandSave}">
									<b:image source="/images/update.gif" />
									<a4j:support event="onclick"
										reRender="#{projectBackingBean.data.changedComponents}" />
								</b:commandLink>
							</b:cell>
							<b:cell x="9" y="1">
								<a4j:commandLink title="Löschen" action="#{projectBackingBean.commandDelete}" onclick="if (!confirm('Wollen Sie diesen Datensatz wirklick löschen?')) {return false;}" reRender="#{projectBackingBean.data.changedComponents}">
									<b:image source="/images/delete.gif" />
								</a4j:commandLink>
							</b:cell>
							<b:cell x="11" y="1">
								<b:commandLink title="Suchen" action="#{projectBackingBean.commandSearch}">
									<b:image source="/images/search.gif" />
									<a4j:support event="onclick"
										reRender="#{projectBackingBean.data.changedComponents}" />
								</b:commandLink>
							</b:cell>
							<b:cell x="12" y="1" align="right">
								<a4j:outputPanel ajaxRendered="true">
									<h:outputText value="#{projectBackingBean.recordInfo}"/>
								</a4j:outputPanel>
							</b:cell>

							<b:cell x="12" y="3" align="right">
								<a4j:outputPanel ajaxRendered="true">
									<h:outputText value="#{projectBackingBean.data.entity}">
										<f:converter converterId="auditInformationConverter" />
									</h:outputText>
								</a4j:outputPanel>
							</b:cell>

						</b:gridBagLayout>
					</b:titledBox>
				</b:cell>
				
				<b:cell x="1" y="3" width="3">
					<ui:include src="/include/messages.xhtml"/>
				</b:cell>

				<b:cell x="1" y="4">
					<b:gridBagLayout rows="p,10,p,10,p" cols="*" id="adresse">
						<b:cell x="1" y="1">
							<b:titledBox label="Stammdaten">

								<b:gridBagLayout cols="2,100,2,*,2,20,2"
									rows="2,p,2,p,2,p,2,p,2,p,2,p,2,p,2,80,2,p,2">

									<b:cell x="2" y="2">
										<b:label id="kundelabel" label="Kunde" />
									</b:cell>
									<b:cell x="4" y="2" width="2">
										<a4j:outputPanel ajaxRendered="true">
											<h:outputText value="#{projectBackingBean.data.entity.customer}">
												<f:converter converterId="personConverter" />
											</h:outputText>
										</a4j:outputPanel>
									</b:cell>
									<b:cell x="6" y="2">
										<b:commandLink action="#{projectBackingBean.commandShowCustomer}">
											<b:image source="/images/next.gif" />
											<a4j:support event="onclick"
												reRender="#{projectBackingBean.data.changedComponents}" />
										</b:commandLink>
									</b:cell>

									<b:cell x="2" y="4">
										<b:label id="datumlabel" label="Datum" />
									</b:cell>
									<b:cell x="4" y="4" width="3">
										<b:inputfield
											value="#{projectBackingBean.data.entity.date}"
											labelComponentId="datumlabel" />
									</b:cell>

									<b:cell x="2" y="6">
										<b:label id="projektnummerlabel" label="Projektnummer" />
									</b:cell>
									<b:cell x="4" y="6" width="3">
										<b:inputfield
											value="#{projectBackingBean.data.entity.projectNumber}"
											labelComponentId="projektnummerlabel" />
									</b:cell>

									<b:cell x="2" y="8">
										<b:label id="arbeitsortlabel" label="Arbeitsort" />
									</b:cell>
									<b:cell x="4" y="8" width="3">
										<b:inputfield
											value="#{projectBackingBean.data.entity.workplace}"
											labelComponentId="arbeitsortlabel" />
									</b:cell>

									<b:cell x="2" y="10">
										<b:label id="startlabel" label="Start" />
									</b:cell>
									<b:cell x="4" y="10" width="3">
										<b:inputfield
											value="#{projectBackingBean.data.entity.start}"
											labelComponentId="startlabel" />
									</b:cell>

									<b:cell x="2" y="12">
										<b:label id="dauerlabel" label="Dauer" />
									</b:cell>
									<b:cell x="4" y="12" width="3">
										<b:inputfield
											value="#{projectBackingBean.data.entity.duration}"
											labelComponentId="dauerlabel" />
									</b:cell>

									<b:cell x="2" y="14">
										<b:label id="bezeichnunglabel" label="Bezeichnung" />
									</b:cell>
									<b:cell x="4" y="14" width="3">
										<b:inputfield
											value="#{projectBackingBean.data.entity.descriptionShort}"
											labelComponentId="bezeichnunglabel" />
									</b:cell>

									<b:cell x="2" y="16" valign="top">
										<b:label id="beschreibunglabel" label="Beschreibung" />
									</b:cell>
									<b:cell x="4" y="16" width="3">
										<b:textarea
											value="#{projectBackingBean.data.entity.descriptionLong}"
											labelComponentId="beschreibunglabel" />
									</b:cell>

									<b:cell x="4" y="18" width="3">
										<b:checkbox label="Sichtbar auf Webseite"
											value="#{projectBackingBean.data.entity.visibleOnWebSite}"
											 />
									</b:cell>

								</b:gridBagLayout>


							</b:titledBox>
						</b:cell>

					</b:gridBagLayout>
				</b:cell>
		
			</b:gridBagLayout>
			
		</f:subview>			
	</ui:define>
</ui:composition>	